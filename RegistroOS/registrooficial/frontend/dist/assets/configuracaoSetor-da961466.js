import{r as p,j as e,S as O,I as A,T as _,C as I,f as G,B as $,D as F,a as q}from"./index-5c38bd1c.js";const U={MEC_INSPECAO_VISUAL:{id:"MEC_INSPECAO_VISUAL",nome:"Inspeção Visual Geral",grupo:"Inspeções Iniciais",resultadosPossiveis:["APROVADO","REPROVADO","NAO_APLICA"],camposAdicionaisResultado:[{name:"OCORRENCIAS",type:"TEXT_AREA",label:"Ocorrências Encontradas"},{name:"GRAU_SEVERIDADE",type:"SELECT",options:["BAIXO","MEDIO","ALTO"],label:"Grau de Severidade"}]},MEC_TESTE_DIMENSIONAL:{id:"MEC_TESTE_DIMENSIONAL",nome:"Teste Dimensional",grupo:"Controles Geométricos",resultadosPossiveis:["DENTRO_ESPECIFICACAO","FORA_ESPECIFICACAO","REPARO_NECESSARIO"],camposAdicionaisResultado:[{name:"DIMENSOES_VERIFICADAS",type:"TEXT_AREA",label:"Dimensões Verificadas"},{name:"DEVIACAO",type:"NUMBER",label:"Desvio (mm)"},{name:"TOLERANCIA",type:"NUMBER",label:"Tolerância (mm)"}]},MEC_TESTE_ESPECTROMETRIA:{id:"MEC_TESTE_ESPECTROMETRIA",nome:"Análise por Espectrômetro",grupo:"Análise de Materiais",resultadosPossiveis:["COMPATIVEL","INCOMPATIVEL","AMOSTRA_INSUFICIENTE"],camposAdicionaisResultado:[{name:"COMPOSICAO_QUIMICA",type:"TEXT_AREA",label:"Composição Química"},{name:"PADRAO_REFERENCIA",type:"TEXT",label:"Padrão de Referência"}]},MEC_TESTE_BALANCEAMENTO:{id:"MEC_TESTE_BALANCEAMENTO",nome:"Teste de Balanceamento",grupo:"Análise Dinâmica",resultadosPossiveis:["BALANCEADO","DESBALANCEADO","REQUER AJUSTE"],camposAdicionaisResultado:[{name:"VELOCIDADE_ROTACAO",type:"NUMBER",label:"Velocidade de Rotação (RPM)"},{name:"NIVEL_VIBRACAO",type:"NUMBER",label:"Nível de Vibração (mm/s)"},{name:"POSICAO_DESBALANCEAMENTO",type:"TEXT",label:"Posição do Desbalanceamento"}]},MEC_TESTE_ALINHAMENTO:{id:"MEC_TESTE_ALINHAMENTO",nome:"Teste de Alinhamento",grupo:"Verificação Geométrica",resultadosPossiveis:["ALINHADO","DESALINHADO","REQUER AJUSTE"],camposAdicionaisResultado:[{name:"DESVIO_PARALELO",type:"NUMBER",label:"Desvio Paralelo (mm)"},{name:"DESVIO_ANGULAR",type:"NUMBER",label:"Desvio Angular (graus)"},{name:"METODO_MEDICAO",type:"SELECT",options:["Laser","Fios de Prumo","Calibrador"],label:"Método de Medição"}]},MEC_TESTE_PRESSAO:{id:"MEC_TESTE_PRESSAO",nome:"Teste de Pressão",grupo:"Ensaios Não Destrutivos",resultadosPossiveis:["SEM_VAZAMENTO","COM_VAZAMENTO","FALHA_ESTRUTURAL"],camposAdicionaisResultado:[{name:"PRESSAO_TESTE",type:"NUMBER",label:"Pressão de Teste (bar)"},{name:"PRESSAO_MAXIMA",type:"NUMBER",label:"Pressão Máxima (bar)"},{name:"TEMPO_TESTE",type:"NUMBER",label:"Tempo de Teste (minutos)"},{name:"LOCAL_VAZAMENTO",type:"TEXT",label:"Local do Vazamento (se aplicável)"}]}},H=[{value:"MANUTENCAO_CORRETIVA",label:"Manutenção Corretiva"},{value:"MANUTENCAO_PREVENTIVA",label:"Manutenção Preventiva"},{value:"REVISAO_ROTATIVA",label:"Revisão Rotativa"},{value:"INSPECAO_QUALIDADE",label:"Inspeção de Qualidade"},{value:"MONTAGEM",label:"Montagem"},{value:"DESMONTAGEM",label:"Desmontagem"},{value:"CALIBRACAO",label:"Calibração"},{value:"REPARO_COMPONENTES",label:"Reparo de Componentes"},{value:"TROCA_ROLAMENTOS",label:"Troca de Rolamentos"},{value:"ALINHAMENTO_EIXOS",label:"Alinhamento de Eixos"},{value:"BALANCEAMENTO_ROTOR",label:"Balanceamento de Rotor"},{value:"TESTE_PRESSAO",label:"Teste de Pressão"},{value:"ANALISE_MATERIAL",label:"Análise de Material"}],X={inpNumOS:{id:"inpNumOS",tipo:"TEXT",label:"Número OS",obrigatorio:!0},inpEquipamento:{id:"inpEquipamento",tipo:"TEXT",label:"Descrição do Equipamento/Componente",obrigatorio:!0},inpCliente:{id:"inpCliente",tipo:"TEXT",label:"Cliente",obrigatorio:!0},selTipoComponente:{id:"selTipoComponente",tipo:"SELECT",label:"Tipo de Componente",obrigatorio:!0,options:["Eixo","Engrenagem","Biela","Pistão","Carter","Rolamento","Turbina","Bomba","Compressor","Outro"]},selMaquina:{id:"selMaquina",tipo:"SELECT",label:"Máquina Associada (se aplicável)",obrigatorio:!1,options:["Torno CNC","Fresa","Linha de Montagem","Célula de Usinagem","Compresor","Bomba Centrífuga","Turbina a Vapor","Motor Elétrico","Gerador","Outro"]},numeroSerie:{id:"numeroSerie",tipo:"TEXT",label:"Número de Série/Parafuso",obrigatorio:!1},clienteInterno:{id:"clienteInterno",tipo:"SELECT",label:"Cliente Interno",obrigatorio:!0,options:["Motorpesados","Gerencia de Manutenção","Qualidade","PCP","Produção","Manutenção Industrial"]},prioridade:{id:"prioridade",tipo:"SELECT",label:"Prioridade",obrigatorio:!0,options:["Baixa","Média","Alta","Urgente"]},observacao_os:{id:"observacao_os",tipo:"TEXT_AREA",label:"Observações Gerais sobre OS",obrigatorio:!1},inpRetrabalho:{id:"inpRetrabalho",tipo:"CHECKBOX",label:"É Retrabalho?",obrigatorio:!1},selCausaRetrabalho:{id:"selCausaRetrabalho",tipo:"SELECT",label:"Causa do Retrabalho",obrigatorio:!1,options:["Falha de Fabrica","Desgaste Normal","Má Operação","Falha Material","Outro"]},motivo_falha:{id:"motivo_falha",tipo:"TEXT_AREA",label:"Motivo da Falha (se houver retrabalho)",obrigatorio:!1}},B=({testResults:o,testObservations:r,onTestResultChange:d,onTestCheckboxChange:C,onTestObservationChange:t})=>{const a="MEC_TESTE_BALANCEAMENTO",[s,N]=p.useState([]),T=()=>{N([...s,{posicao:"",vibracao:0,velocidade:0}])},b=i=>{const c=[...s];c.splice(i,1),N(c)},h=(i,c,g)=>{const v=[...s];c==="posicao"?v[i].posicao=g:c==="velocidade"?v[i].velocidade=Number(g):c==="vibracao"&&(v[i].vibracao=Number(g)),N(v)},m=()=>s.length===0?0:s.reduce((c,g)=>c+g.vibracao,0)/s.length,E=i=>i<=2.5?{status:"ÓTIMO",cor:"bg-green-100 text-green-800"}:i<=4.5?{status:"BOM",cor:"bg-blue-100 text-blue-800"}:i<=7?{status:"REGULAR",cor:"bg-yellow-100 text-yellow-800"}:{status:"CRÍTICO",cor:"bg-red-100 text-red-800"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-purple-800 mb-3",children:"⚖️ Teste de Balanceamento"}),e.jsx("p",{className:"text-sm text-purple-700 mb-4",children:"Verificação do balanceamento dinâmico de rotores e componentes rotativos para minimizar vibrações."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resultado do Teste"}),e.jsxs(O,{value:o[a]||"",onChange:i=>d(a,i.target.value),className:"w-full",children:[e.jsx("option",{value:"",children:"Selecione o resultado..."}),e.jsx("option",{value:"BALANCEADO",children:"✅ BALANCEADO"}),e.jsx("option",{value:"DESBALANCEADO",children:"❌ DESBALANCEADO"}),e.jsx("option",{value:"REQUER AJUSTE",children:"🔧 REQUER AJUSTE"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Método de Balanceamento"}),e.jsxs(O,{value:r[a+"_METODO_BALANCEAMENTO"]||"",onChange:i=>t(a+"_METODO_BALANCEAMENTO",i.target.value),className:"w-full",children:[e.jsx("option",{value:"",children:"Selecione método..."}),e.jsx("option",{value:"BALANCEAMENTO ESTÁTICO",children:"🎯 Balanceamento Estático"}),e.jsx("option",{value:"BALANCEAMENTO DINÂMICO",children:"🔄 Balanceamento Dinâmico"}),e.jsx("option",{value:"BALANCEAMENTO DE DOIS PLANOS",children:"📐 Balanceamento de Dois Planos"}),e.jsx("option",{value:"BALANCEAMENTO FIELD BALANCING",children:"🏭 Field Balancing"})]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h5",{className:"text-md font-semibold text-gray-800 mb-4",children:"⚙️ Configuração do Teste"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Velocidade de Rotação (RPM)"}),e.jsx(A,{type:"number",value:r[a+"_VELOCIDADE_ROTACAO"]||"",onChange:i=>t(a+"_VELOCIDADE_ROTACAO",i.target.value),placeholder:"Ex: 1800",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Limite de Vibração (mm/s)"}),e.jsx(A,{type:"number",value:r[a+"_LIMITE_VIBRACAO"]||"",onChange:i=>t(a+"_LIMITE_VIBRACAO",i.target.value),placeholder:"Ex: 4.5",step:"0.1",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Temperatura Ambiente (°C)"}),e.jsx(A,{type:"number",value:r[a+"_TEMPERATURA"]||"",onChange:i=>t(a+"_TEMPERATURA",i.target.value),placeholder:"Ex: 25",className:"w-full"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h5",{className:"text-md font-semibold text-gray-800",children:"📊 Leituras de Vibração"}),e.jsx("button",{type:"button",onClick:T,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"+ Adicionar Leitura"})]}),s.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Posição"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Velocidade (RPM)"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Vibração (mm/s)"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((i,c)=>{const g=i.vibracao<=4.5?"OK":"ATENÇÃO",v=i.vibracao<=4.5?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx(A,{type:"text",value:i.posicao,onChange:j=>h(c,"posicao",j.target.value),placeholder:"Ex: A, B, C, D...",className:"w-full"})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx(A,{type:"number",value:String(i.velocidade),onChange:j=>h(c,"velocidade",j.target.value),placeholder:"RPM",className:"w-full"})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx(A,{type:"number",value:String(i.vibracao),onChange:j=>h(c,"vibracao",j.target.value),placeholder:"0.0",step:"0.1",className:"w-full"})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${v}`,children:g})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("button",{type:"button",onClick:()=>b(c),className:"px-2 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Remover"})})]},c)})})]})}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:'Nenhuma leitura adicionada. Clique em "Adicionar Leitura" para começar.'})})]}),s.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h5",{className:"text-md font-semibold text-blue-800 mb-3",children:"📈 Análise de Vibração"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Média de Vibração:"}),e.jsxs("span",{className:"ml-2 bg-blue-100 px-2 py-1 rounded",children:[m().toFixed(2)," mm/s"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Maior Vibração:"}),e.jsxs("span",{className:"ml-2 bg-red-100 px-2 py-1 rounded",children:[Math.max(...s.map(i=>i.vibracao)).toFixed(2)," mm/s"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Menor Vibração:"}),e.jsxs("span",{className:"ml-2 bg-green-100 px-2 py-1 rounded",children:[Math.min(...s.map(i=>i.vibracao)).toFixed(2)," mm/s"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Status Geral:"}),e.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${E(m()).cor}`,children:E(m()).status})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h5",{className:"text-md font-semibold text-gray-800 mb-3",children:"📝 Observações Técnicas"}),e.jsx(_,{value:r[a+"_OBSERVACOES"]||"",onChange:i=>t(a+"_OBSERVACOES",i.target.value),placeholder:"Descreva condições do teste, equipamentos utilizados, e outras observações relevantes...",rows:3,className:"w-full"})]})]})},V=({testResults:o,testObservations:r,onTestResultChange:d,onTestCheckboxChange:C,onTestObservationChange:t})=>{const a="MEC_TESTE_DIMENSIONAL";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-green-800 mb-3",children:"📏 Teste Dimensional"}),e.jsx("p",{className:"text-sm text-green-700 mb-4",children:"Verificação de dimensões críticas, desgaste e tolerâncias do componente."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resultado do Teste"}),e.jsxs(O,{value:o[a]||"",onChange:s=>d(a,s.target.value),className:"w-full",children:[e.jsx("option",{value:"",children:"Selecione o resultado..."}),e.jsx("option",{value:"CONFORME",children:"✅ CONFORME"}),e.jsx("option",{value:"NÃO CONFORME",children:"❌ NÃO CONFORME"}),e.jsx("option",{value:"REPARO NECESSÁRIO",children:"🔧 REPARO NECESSÁRIO"}),e.jsx("option",{value:"SUBSTITUIR",children:"🔄 SUBSTITUIR"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Método de Medição"}),e.jsxs(O,{value:r[a+"_METODO_MEDICAO"]||"",onChange:s=>t(a+"_METODO_MEDICAO",s.target.value),className:"w-full",children:[e.jsx("option",{value:"",children:"Selecione método..."}),e.jsx("option",{value:"CALIBRADOR",children:"Paquímetro/ Micrômetro/ Calibrador"}),e.jsx("option",{value:"MÁQUINA CMM",children:"Máquina CMM (Coordenada)"}),e.jsx("option",{value:"PROJETOR DE PERFIL",children:"Projetor de Perfil"}),e.jsx("option",{value:"GONIÔMETRO",children:"Goniômetro"}),e.jsx("option",{value:"OUTRO",children:"Outro"})]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h5",{className:"text-md font-semibold text-gray-800 mb-4",children:"📐 Medições Dimensionais"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Parâmetro"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Nominal (mm)"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Medido (mm)"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Tolerância (±mm)"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Desvio (mm)"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:"Diâmetro Externo"}),e.jsx("td",{className:"px-4 py-2",children:"100.00"}),e.jsx("td",{className:"px-4 py-2",children:e.jsx(A,{type:"number",value:r[a+"_DIAM_EXT_MEDIDO"]||"",onChange:s=>t(a+"_DIAM_EXT_MEDIDO",s.target.value),className:"w-full"})}),e.jsx("td",{className:"px-4 py-2",children:"0.05"}),e.jsx("td",{className:"px-4 py-2",children:"--"})," ",e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:"OK"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:"Comprimento Total"}),e.jsx("td",{className:"px-4 py-2",children:"250.00"}),e.jsx("td",{className:"px-4 py-2",children:e.jsx(A,{type:"number",value:r[a+"_COMP_TOTAL_MEDIDO"]||"",onChange:s=>t(a+"_COMP_TOTAL_MEDIDO",s.target.value),className:"w-full"})}),e.jsx("td",{className:"px-4 py-2",children:"0.10"}),e.jsx("td",{className:"px-4 py-2",children:"--"}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:"OK"})})]})]})]})})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h5",{className:"text-md font-semibold text-gray-800 mb-3",children:"📝 Observações Técnicas"}),e.jsx(_,{value:r[a+"_OBSERVACOES"]||"",onChange:s=>t(a+"_OBSERVACOES",s.target.value),placeholder:"Descreva condições do ambiente, equipamentos utilizados, e outras observações relevantes...",rows:3,className:"w-full"})]})]})},P=({testResults:o,testObservations:r,onTestResultChange:d,onTestCheckboxChange:C,onTestObservationChange:t})=>{const a="MEC_INSPECAO_VISUAL";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-teal-800 mb-3",children:"👁️ Inspeção Visual"}),e.jsx("p",{className:"text-sm text-teal-700 mb-4",children:"Verificação visual superficial de componentes em busca de defeitos, desgastes, trincas, ou other irregularidades."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resultado Geral da Inspeção"}),e.jsxs(O,{value:o[a]||"",onChange:s=>d(a,s.target.value),className:"w-full",children:[e.jsx("option",{value:"",children:"Selecione o resultado..."}),e.jsx("option",{value:"APROVADO",children:"✅ APROVADO"}),e.jsx("option",{value:"REPROVADO",children:"❌ REPROVADO"}),e.jsx("option",{value:"SUSPENSO",children:"⚠️ SUSPENSO (Requer Análise)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Método de Iluminação"}),e.jsxs(O,{value:r[a+"_METODO_ILUMINACAO"]||"",onChange:s=>t(a+"_METODO_ILUMINACAO",s.target.value),className:"w-full",children:[e.jsx("option",{value:"",children:"Selecione método..."}),e.jsx("option",{value:"LUZ NATURAL",children:"☀️ Luz Natural"}),e.jsx("option",{value:"LUZ ARTIFICIAL PADRAO",children:"💡 Luz Artificial Padrão"}),e.jsx("option",{value:"LUZ UV",children:"💜 Luz UV (Black Light)"}),e.jsx("option",{value:"FONTE DE LUZ DIRECIONADA",children:"🔦 Fonte de Luz Direcionada"}),e.jsx("option",{value:"ENDOSCOPIO",children:"🔍 Endoscópio"})]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h5",{className:"text-md font-semibold text-gray-800 mb-4",children:"🔍 Pontos de Inspeção Específicos"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"text-sm font-medium text-gray-700 mb-3",children:"Superfícies"}),e.jsx(I,{id:`${a}_TRINCAS_SUPERFICIE`,label:"Verificação de Trincas",checked:o[`${a}_TRINCAS_SUPERFICIE`]==="SIM",onChange:s=>d(`${a}_TRINCAS_SUPERFICIE`,s.target.checked?"SIM":"NAO")}),e.jsx(I,{id:`${a}_DEFORMACOES_SUPERFICIE`,label:"Deformações Aparentes",checked:o[`${a}_DEFORMACOES_SUPERFICIE`]==="SIM",onChange:s=>d(`${a}_DEFORMACOES_SUPERFICIE`,s.target.checked?"SIM":"NAO")}),e.jsx(I,{id:`${a}_FALTA_MATERIAL`,label:"Falta de Material/Desgaste",checked:o[`${a}_FALTA_MATERIAL`]==="SIM",onChange:s=>d(`${a}_FALTA_MATERIAL`,s.target.checked?"SIM":"NAO")}),e.jsx(I,{id:`${a}_CORROSAO_SUPERFICIE`,label:"Sinais de Corrosão",checked:o[`${a}_CORROSAO_SUPERFICIE`]==="SIM",onChange:s=>d(`${a}_CORROSAO_SUPERFICIE`,s.target.checked?"SIM":"NAO")})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"text-sm font-medium text-gray-700 mb-3",children:"Conexões e Acabamentos"}),e.jsx(I,{id:`${a}_FISSURAS_SOLDAS`,label:"Fissuras em Soldas",checked:o[`${a}_FISSURAS_SOLDAS`]==="SIM",onChange:s=>d(`${a}_FISSURAS_SOLDAS`,s.target.checked?"SIM":"NAO")}),e.jsx(I,{id:`${a}_FIXACOES_SOLIDAS`,label:"Fixações e Parafusos (Sólidos/ apertados)",checked:o[`${a}_FIXACOES_SOLIDAS`]==="SIM",onChange:s=>d(`${a}_FIXACOES_SOLIDAS`,s.target.checked?"SIM":"NAO")}),e.jsx(I,{id:`${a}_ACABAMENTO_VISIBLE`,label:"State of Visible Finish/ painting",checked:o[`${a}_ACABAMENTO_VISIBLE`]==="SIM",onChange:s=>d(`${a}_ACABAMENTO_VISIBLE`,s.target.checked?"SIM":"NAO")}),e.jsx(I,{id:`${a}_SELADORES_E_JUNTAS`,label:"Integridade de Seladores e Juntas",checked:o[`${a}_SELADORES_E_JUNTAS`]==="SIM",onChange:s=>d(`${a}_SELADORES_E_JUNTAS`,s.target.checked?"SIM":"NAO")})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h5",{className:"text-md font-semibold text-gray-800 mb-3",children:"📋 Detalhamento de Defeitos Encontrados (se aplicável)"}),e.jsx(_,{value:r[a+"_DETALHAMENTO_DEFEITOS"]||"",onChange:s=>t(a+"_DETALHAMENTO_DEFEITOS",s.target.value),placeholder:"Descreva com detalhes a localização, tipo, e extensão de qualquer defeito identificado que tenha levado à reprovação ou necessidade de análise...",rows:4,className:"w-full"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h5",{className:"text-md font-semibold text-gray-800 mb-4",children:"🧼 Limpeza e Estado"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Condição de Limpeza"}),e.jsxs(O,{value:r[a+"_CONDICAO_LIMPEZA"]||"",onChange:s=>t(a+"_CONDICAO_LIMPEZA",s.target.value),className:"w-full",children:[e.jsx("option",{value:"",children:"Selecione..."}),e.jsx("option",{value:"LIMPO",children:"Limpo"}),e.jsx("option",{value:"COM_SUJEIRA",children:"Com Sujeira/Óleo/Graxa"}),e.jsx("option",{value:"COM_RESIDUOS",children:"Com Resíduos de Operação"}),e.jsx("option",{value:"NECESSITA_LIMPEZA_PROFUNDA",children:"Necessita Limpeza Profunda"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Presença de Fluido"}),e.jsx(I,{id:`${a}_PRESENCA_FLUIDO`,label:"Identificado fluido (óleo, água, etc.) fora do normal",checked:o[`${a}_PRESENCA_FLUIDO`]==="SIM",onChange:s=>d(`${a}_PRESENCA_FLUIDO`,s.target.checked?"SIM":"NAO")}),o[`${a}_PRESENCA_FLUIDO`]==="SIM"&&e.jsx("div",{className:"mt-2",children:e.jsx(_,{value:r[a+"_DESCRICAO_FLUIDO"]||"",onChange:s=>t(a+"_DESCRICAO_FLUIDO",s.target.value),placeholder:"Descreva o tipo de fluido e local da presença...",rows:2,className:"w-full"})})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h5",{className:"text-md font-semibold text-gray-800 mb-3",children:"📝 Observações Técnicas Adicionais"}),e.jsx(_,{value:r[a+"_OBSERVACOES"]||"",onChange:s=>t(a+"_OBSERVACOES",s.target.value),placeholder:"Outras observações sobre o estado geral, condições ambientais durante a inspeção, ou recomendações...",rows:3,className:"w-full"})]})]})},w=[{id:1,codigo:"TI-M",descricao:"TESTES INSPEÇÃO VISUAL MECÂNICA",setor:"Mecânica",ativo:!0},{id:2,codigo:"TB-M",descricao:"TESTES DE BALANCEAMENTO MECÂNICO",setor:"Mecânica",ativo:!0},{id:3,codigo:"TD-M",descricao:"TESTES DIMENSIONAIS MECÂNICOS",setor:"Mecânica",ativo:!0},{id:4,codigo:"AL-M",descricao:"ALINHAMENTO DE MOTOR MECÂNICO",setor:"Mecânica",ativo:!0},{id:5,codigo:"LB-M",descricao:"LUBRIFICAÇÃO DE COMPONENTES MECÂNICOS",setor:"Mecânica",ativo:!0},{id:6,codigo:"FX-M",descricao:"FIXAÇÃO DE COMPONENTES MECÂNICOS",setor:"Mecânica",ativo:!0},{id:7,codigo:"BL-M",descricao:"BALANCEAMENTO DE ROTOR MECÂNICO",setor:"Mecânica",ativo:!0},{id:8,codigo:"MV-M",descricao:"MOVIMENTAÇÃO DE COMPONENTES MECÂNICOS",setor:"Mecânica",ativo:!0},{id:9,codigo:"MT-M",descricao:"MONTAGEM DE COMPONENTES MECÂNICOS",setor:"Mecânica",ativo:!0},{id:10,codigo:"DS-M",descricao:"DESMONTAGEM DE COMPONENTES MECÂNICOS",setor:"Mecânica",ativo:!0},{id:11,codigo:"LP-M",descricao:"LANÇAMENTO DE PROGRAMAÇÃO MECÂNICA",setor:"Mecânica",ativo:!0},{id:12,codigo:"RG-M",descricao:"REGISTRO DE NÃO CONFORMIDADE MECÂNICA",setor:"Mecânica",ativo:!0},{id:13,codigo:"REL-M",descricao:"RELATÓRIO TÉCNICO MECÂNICO",setor:"Mecânica",ativo:!0},{id:14,codigo:"REU-M",descricao:"REUNIÃO DE EQUIPE MECÂNICA",setor:"Mecânica",ativo:!0},{id:15,codigo:"SV-M",descricao:"SERVIÇO DE CAMPO MECÂNICO",setor:"Mecânica",ativo:!0}],k=({selectedValue:o,onChange:r,setor:d="Mecânica"})=>{const[C,t]=p.useState([]),[a,s]=p.useState(!0),[N,T]=p.useState(null);return p.useEffect(()=>{(async()=>{try{s(!0),T(null);const h=await G(d);if(h&&h.length>0){const m=h.filter(E=>E.ativo);t(m)}else{const m=w.filter(E=>E.ativo);t(m)}}catch(h){console.warn("API not available, using mock data:",h);const m=w.filter(E=>E.ativo);t(m)}finally{s(!1)}})()},[d]),a?e.jsx("div",{children:"Carregando descrições de atividade mecânica..."}):N?e.jsx("div",{className:"text-red-500",children:N}):e.jsxs("select",{value:o||"",onChange:b=>r(b.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",disabled:!0,children:"Selecione a Descrição da Atividade Mecânica"}),C.map(b=>e.jsx("option",{value:b.descricao,children:b.descricao},b.id))]})},z=({formData:o,setFormData:r,testResults:d,testObservations:C,onTestResultChange:t,onTestCheckboxChange:a,onTestObservationChange:s,isSupervisor:N,supervisor_daimer:T,supervisor_carga:b,supervisor_horas_orcadas:h,onSupervisorDaimerChange:m,onSupervisorCargaChange:E,onSupervisorHorasOrcadasChange:i,atividades:c})=>{const[g,v]=p.useState(!1),[j,R]=p.useState(null),y=l=>{r(n=>({...n,selDescAtiv:l}))},u=l=>{const n=l.target,{name:f,value:S}=n;f&&r(M=>({...M,[f]:S,consultOSError:null}))},L=async()=>{var n,f;const l=o.inpNumOS;if(!l){R("Número da OS é obrigatório para consulta.");return}v(!0),R(null);try{const S=await q.post("/os/buscar-detalhada",{NUMOS:l});if(S.data&&S.data.data){const M=S.data.data;r({...o,inpEquipamento:M.DESCRICAOPRODUTO||M.EQUIPAMENTO||M.Inquipamento||"",inpCliente:M.RAZAOSOCIAL||M.CLIENTE||""})}else R("OS não encontrada ou sem dados retornados.")}catch(S){const M=((f=(n=S.response)==null?void 0:n.data)==null?void 0:f.detail)||S.message||"Erro ao consultar OS.";R(M),console.error("Erro na consulta da OS:",S)}finally{v(!1)}},x=()=>{const l=o.selAtiv||"",n=o.selDescAtiv||"";return l.includes("BALANCEAMENTO")||n.includes("BALANCEAMENTO")?e.jsx(B,{testResults:d,testObservations:C,onTestResultChange:t,onTestCheckboxChange:a,onTestObservationChange:s}):l.includes("DIMENSIONAL")||n.includes("DIMENSIONAL")?e.jsx(V,{testResults:d,testObservations:C,onTestResultChange:t,onTestCheckboxChange:a,onTestObservationChange:s}):l.includes("INSPECAO")||n.includes("INSPECAO")||l.includes("VISUAL")?e.jsx(P,{testResults:d,testObservations:C,onTestResultChange:t,onTestCheckboxChange:a,onTestObservationChange:s}):l.includes("MANUTENCAO")||n.includes("MANUTENCAO")||n.includes("TROCA")||n.includes("REPARO")||n.includes("ALINHAMENTO")||l.includes("MONTAGEM")||l.includes("DESMONTAGEM")||l.includes("CALIBRACAO")?e.jsx(P,{testResults:d,testObservations:C,onTestResultChange:t,onTestCheckboxChange:a,onTestObservationChange:s}):e.jsx("div",{className:"flex items-center justify-center h-48 bg-gray-100 rounded-md",children:e.jsx("p",{className:"text-gray-500",children:"Selecione uma Atividade para ver os testes ou inspeções específicos."})})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white font-bold text-xs",children:"1"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Consulta da OS"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx(A,{name:"inpNumOS",value:o.inpNumOS,onChange:u,placeholder:"Número da OS",className:"w-full"}),e.jsx("div",{className:"flex items-end",children:e.jsx($,{type:"button",onClick:L,disabled:!o.inpNumOS||g,className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400 whitespace-nowrap",children:g?"🔄 Consultando...":"🔍 Consultar OS"})})]}),j&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-red-700 text-sm",children:j})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(A,{name:"inpEquipamento",value:o.inpEquipamento,onChange:u,placeholder:"Descrição do Equipamento/Componente",readOnly:!!o.inpEquipamento,className:"w-full"}),e.jsx(A,{name:"inpCliente",value:o.inpCliente,onChange:u,placeholder:"Cliente",readOnly:!!o.inpCliente,className:"w-full"}),e.jsxs(O,{name:"selTipoComponente",value:o.selTipoComponente,onChange:u,className:"w-full",children:[e.jsx("option",{value:"",children:"Tipo de Componente..."}),e.jsx("option",{value:"Eixo",children:"Eixo"}),e.jsx("option",{value:"Engrenagem",children:"Engrenagem"}),e.jsx("option",{value:"Biela",children:"Biela"}),e.jsx("option",{value:"Pistão",children:"Pistão"}),e.jsx("option",{value:"Carter",children:"Carter"}),e.jsx("option",{value:"Rolamento",children:"Rolamento"}),e.jsx("option",{value:"Turbina",children:"Turbina"}),e.jsx("option",{value:"Bomba",children:"Bomba"}),e.jsx("option",{value:"Compressor",children:"Compressor"}),e.jsx("option",{value:"Outro",children:"Outro"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-6 h-6 bg-green-600 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white font-bold text-xs",children:"2"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Dados de Lançamento"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(F,{type:"date",name:"inpData",value:o.inpData,onChange:u,placeholder:"Data Início"}),e.jsx(F,{type:"time",name:"inpHora",value:o.inpHora,onChange:u,placeholder:"Hora Início"})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-6 h-6 bg-purple-600 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white font-bold text-xs",children:"3"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configuração da Atividade"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs(O,{name:"selMaquina",value:o.selMaq,onChange:u,className:"w-full",children:[e.jsx("option",{value:"",children:"Máquina Associada..."}),e.jsx("option",{value:"Torno CNC",children:"Torno CNC"}),e.jsx("option",{value:"Fresa",children:"Fresa"}),e.jsx("option",{value:"Linha de Montagem",children:"Linha de Montagem"}),e.jsx("option",{value:"Célula de Usinagem",children:"Célula de Usinagem"}),e.jsx("option",{value:"Compresor",children:"Compresor"}),e.jsx("option",{value:"Bomba Centrífuga",children:"Bomba Centrífuga"}),e.jsx("option",{value:"Turbina a Vapor",children:"Turbina a Vapor"}),e.jsx("option",{value:"Motor Elétrico",children:"Motor Elétrico"}),e.jsx("option",{value:"Gerador",children:"Gerador"}),e.jsx("option",{value:"Outro",children:"Outro"})]}),e.jsxs(O,{name:"selAtiv",value:o.selAtiv,onChange:u,className:"w-full",children:[e.jsx("option",{value:"",children:"Tipo de Atividade..."}),e.jsx("option",{value:"TI-I",children:"Testes Iniciais Internos"}),e.jsx("option",{value:"TI-C",children:"Testes Iniciais com Cliente"}),e.jsx("option",{value:"TP-I",children:"Testes Parciais (Liberação para Impregnar)"}),e.jsx("option",{value:"TP-A",children:"Testes Parciais (Acompanhamento)"}),e.jsx("option",{value:"TP-C",children:"Testes Parciais com Cliente"}),e.jsx("option",{value:"TF-I",children:"Testes Finais Internos"}),e.jsx("option",{value:"TF-C",children:"Testes Finais com Cliente"}),e.jsx("option",{value:"ALI-M",children:"Alinhamento de Motor"}),e.jsx("option",{value:"LUB-M",children:"Lubrificação de Motor"}),e.jsx("option",{value:"FX-M",children:"Fixação de Motor na Base"}),e.jsx("option",{value:"BL-M",children:"Balanceamento de Motor"}),e.jsx("option",{value:"MOV-C",children:"Movimentação de Carga"}),e.jsx("option",{value:"MONT-C",children:"Montagem de Circuito"}),e.jsx("option",{value:"DESM-C",children:"Desmontagem de Circuito"}),e.jsx("option",{value:"PROG-P",children:"Lançamento de Programação"}),e.jsx("option",{value:"REG-NC",children:"Registro de Não Conformidade"}),e.jsx("option",{value:"REL",children:"Relatório"}),e.jsx("option",{value:"REUN",children:"Reunião"}),e.jsx("option",{value:"SV-C",children:"Serviço de Campo"}),e.jsx("option",{value:"MANUTENCAO_CORRETIVA",children:"Manutenção Corretiva"}),e.jsx("option",{value:"MANUTENCAO_PREVENTIVA",children:"Manutenção Preventiva"}),e.jsx("option",{value:"REVISAO_ROTATIVA",children:"Revisão Rotativa"}),e.jsx("option",{value:"INSPECAO_QUALIDADE",children:"Inspeção de Qualidade"}),e.jsx("option",{value:"MONTAGEM",children:"Montagem"}),e.jsx("option",{value:"DESMONTAGEM",children:"Desmontagem"}),e.jsx("option",{value:"CALIBRACAO",children:"Calibração"}),e.jsx("option",{value:"REPARO_COMPONENTES",children:"Reparo de Componentes"}),e.jsx("option",{value:"TROCA_ROLAMENTOS",children:"Troca de Rolamentos"}),e.jsx("option",{value:"ALINHAMENTO_EIXOS",children:"Alinhamento de Eixos"}),e.jsx("option",{value:"BALANCEAMENTO_ROTOR",children:"Balanceamento de Rotor"}),e.jsx("option",{value:"TESTE_PRESSAO",children:"Teste de Pressão"}),e.jsx("option",{value:"ANALISE_MATERIAL",children:"Análise de Material"})]}),e.jsx(k,{selectedValue:o.selDescAtiv,onChange:l=>y(l)})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-6 h-6 bg-orange-600 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white font-bold text-xs",children:"R"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Dados de Retrabalho"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"inpRetrabalho",name:"inpRetrabalho",checked:o.inpRetrabalho||!1,onChange:u,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"inpRetrabalho",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"É Retrabalho?"})]}),o.inpRetrabalho&&e.jsxs(e.Fragment,{children:[e.jsxs(O,{name:"selCausaRetrabalho",value:o.selCausaRetrabalho,onChange:u,className:"w-full",children:[e.jsx("option",{value:"",children:"Causa do Retrabalho..."}),e.jsx("option",{value:"Falha de Fabrica",children:"Falha de Fábrica"}),e.jsx("option",{value:"Desgaste Normal",children:"Desgaste Normal"}),e.jsx("option",{value:"Má Operação",children:"Má Operação"}),e.jsx("option",{value:"Falha Material",children:"Falha Material"}),e.jsx("option",{value:"Outro",children:"Outro"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Motivo da Falha"}),e.jsx("textarea",{name:"motivo_falha",value:o.motivo_falha||"",onChange:u,placeholder:"Descreva o motivo da falha que gerou o retrabalho...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),N&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-6 h-6 bg-yellow-600 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white font-bold text-xs",children:"S"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configuração de Supervisor"}),e.jsx("div",{className:"ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Acesso Restrito"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Campos visíveis e editáveis apenas para supervisores."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"supervisor_daimer",name:"supervisor_daimer",checked:o.supervisor_daimer,onChange:m,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"supervisor_daimer",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Há testes de Daimer?"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"supervisor_carga",name:"supervisor_carga",checked:o.supervisor_carga,onChange:E,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"supervisor_carga",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Há teste de Carga?"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"supervisor_horas_orcadas",className:"block text-sm font-medium text-gray-700 mb-1",children:"Horas Orçadas (h)"}),e.jsx(A,{type:"number",id:"supervisor_horas_orcadas",name:"supervisor_horas_orcadas",value:o.supervisor_horas_orcadas,onChange:i,placeholder:"0.0",min:"0",step:"0.5",className:"w-full"})]})]})]}),!N&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-600 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white font-bold text-xs",children:"S"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configuração de Supervisor"}),e.jsx("div",{className:"ml-2 text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded",children:"Leitura Apenas"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Informações preenchidas pelo supervisor."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Há testes de Daimer?"}),e.jsx("div",{className:`px-3 py-2 border rounded-md text-sm ${o.supervisor_daimer?"bg-green-50 text-green-800 border-green-300":"bg-red-50 text-red-800 border-red-300"}`,children:o.supervisor_daimer?"Sim":"Não"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Há teste de Carga?"}),e.jsx("div",{className:`px-3 py-2 border rounded-md text-sm ${o.supervisor_carga?"bg-green-50 text-green-800 border-green-300":"bg-red-50 text-red-800 border-red-300"}`,children:o.supervisor_carga?"Sim":"Não"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horas Orçadas (h)"}),e.jsx("div",{className:"px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50 text-gray-700",children:o.supervisor_horas_orcadas>0?o.supervisor_horas_orcadas.toFixed(1):"Não especificado"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-6 h-6 bg-orange-600 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white font-bold text-xs",children:"4"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o.selDescAtiv?`🔧 Testes/Inspeções para: ${o.selDescAtiv}`:o.selAtiv?`🔧 Testes/Inspeções para: ${o.selAtiv}`:"Testes/Inspeções Específicas"})]}),x()]})]})},Q=({formData:o,setFormData:r,DicionarioTestes:d={},ChaveSetor:C="mecanica"})=>{const[t,a]=p.useState(o.pecasSubstituidas||""),[s,N]=p.useState(o.servicosRealizados||""),[T,b]=p.useState(o.diagnosticoFinal||""),[h,m]=p.useState(o.observacoesGerais||""),[E,i]=p.useState(o.motivoRetrabalho||""),[c,g]=p.useState(o.foiRetrabalho||!1),v=x=>{const l=x.target.value;a(l),r(n=>({...n,pecasSubstituidas:l}))},j=x=>{const l=x.target.value;N(l),r(n=>({...n,servicosRealizados:l}))},R=x=>{const l=x.target.value;b(l),r(n=>({...n,diagnosticoFinal:l}))},y=x=>{const l=x.target.value;m(l),r(n=>({...n,observacoesGerais:l}))},u=x=>{const l=x.target.value;i(l),r(n=>({...n,motivoRetrabalho:l}))},L=x=>{const l=x.target.checked;g(l),r(n=>({...n,foiRetrabalho:l}))};return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-6 h-6 bg-green-600 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white font-bold text-xs",children:"2"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"🔧 Detalhamento do Serviço (Mecânica)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"🛠️ Serviços Realizados"}),e.jsx("textarea",{value:s,onChange:j,placeholder:"Descreva os serviços de manutenção, reparo, inspeção, etc., realizados na ordem de serviço...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"🔩 Peças Substituídas ou Recondicionadas"}),e.jsx("textarea",{value:t,onChange:v,placeholder:"Liste as peças que foram substituídas, reparadas ou recondicionadas. Incluir códigos de peça, se aplicável.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"📋 Diagnóstico Final e Conclusões"}),e.jsx("textarea",{value:T,onChange:R,placeholder:"Apresente o diagnóstico final da condição do equipamento após os serviços realizados e as conclusões da intervenção.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"foiRetrabalho",name:"foiRetrabalho",type:"checkbox",checked:c,onChange:L,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),e.jsxs("div",{className:"text-sm",children:[e.jsx("label",{htmlFor:"foiRetrabalho",className:"font-medium text-gray-700",children:"Esta OS é um retrabalho?"}),e.jsx("p",{className:"text-gray-500",children:"Marque se esta ordem de serviço refere-se a uma correção ou conclusão de um trabalho anterior."})]})]}),c&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"🧩 Motivo do Retrabalho"}),e.jsx("textarea",{value:E,onChange:u,placeholder:"Descreva o motivo pelo qual este serviço foi considerado um retrabalho (ex: falha na primeira tentativa, necessidade de ajuste pós-instalação, etc.).",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"💬 Observações Gerais do Técnico"}),e.jsx("textarea",{value:h,onChange:y,placeholder:"Qualquer outra informação relevante, condições especiais encontradas, recomendações para o cliente, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),e.jsx("div",{className:"text-sm text-gray-500 italic",children:"Nota: Esta etapa captura os detalhes do serviço mecânico. Os resultados dos testes específicos são capturados em suas respectivas seções."})]})},Z={...X,dataInicio:{id:"dataInicio",tipo:"DATE",label:"Data de Início",obrigatorio:!0},horaInicio:{id:"horaInicio",tipo:"TIME",label:"Hora de Início",obrigatorio:!0},dataFim:{id:"dataFim",tipo:"DATE",label:"Data de Fim",obrigatorio:!1},horaFim:{id:"horaFim",tipo:"TIME",label:"Hora de Fim",obrigatorio:!1},tempoGasto:{id:"tempoGasto",tipo:"NUMBER",label:"Tempo Gasto (horas)",obrigatorio:!1},tecnicoResponsavel:{id:"tecnicoResponsavel",tipo:"TEXT",label:"Técnico Responsável",obrigatorio:!0},statusOS:{id:"statusOS",tipo:"SELECT",label:"Status da OS",obrigatorio:!0,options:["AGUARDANDO","EM_ANDAMENTO","CONCLUIDO","CANCELADO"]},resultadoFinal:{id:"resultadoFinal",tipo:"SELECT",label:"Resultado Final",obrigatorio:!0,options:["APROVADO","REPROVADO","RETRABALHO","CANCELADO"]}},D=H,K={NomeSetor:"Mecânica",ChaveSetor:"mecanica",EsquemaCamposOS:Z,DicionarioTestes:U,ListaAtividades:D,ComponentesPorTestId:{MEC_INSPECAO_VISUAL:P,MEC_TESTE_DIMENSIONAL:V,MEC_TESTE_BALANCEAMENTO:B},ComponentesFormularioPrincipal:[{etapa:1,componente:z,props:{setor:"mecanica",maquinas:["Eixo","Engrenagem","Biela","Pistão","Carter","Rolamento","Turbina","Bomba","Compressor"],atividades:D}},{etapa:2,componente:k,props:{activitiesLista:D}},{etapa:3,componente:Q,props:{DicionarioTestes:U,ChaveSetor:"mecanica"}}],ConfiguracaoBackend:{endPointApontamento:"/api/apontamentos",endPointOrdemServico:"/api/ordens-servico"}};export{D as ATIVIDADES_MECANICA_DETALHADA,K as CONFIGURACAO_SETOR_MECANICA,Z as ESQUEMA_CAMPOS_OS_MECANICA_DETALHADO,K as default};
